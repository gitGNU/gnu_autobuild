\input texinfo   @c -*-texinfo-*-
@comment $Id: autobuild.texi,v 1.3 2004-07-08 14:19:23 jas Exp $
@comment %**start of header
@setfilename autobuild.info
@include version.texi
@settitle Autobuild @value{VERSION}
@syncodeindex pg cp
@comment %**end of header
@copying
This manual is last updated @value{UPDATED} for version
@value{VERSION} of GNU Libidn.

Copyright @copyright{} 2004 Simon Josefsson.

@quotation
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being ``A GNU Manual,''
and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled ``GNU Free Documentation
License.''

(a) The FSF's Back-Cover Text is: ``You have freedom to copy and modify
this GNU Manual, like GNU software.  Copies published by the Free
Software Foundation raise funds for GNU development.''
@end quotation
@end copying

@dircategory Development
@direntry
* autobuild: (autobuild).	Generate HTML information from software builds.
@end direntry

@dircategory GNU utilities
@direntry
* autobuild: (autobuild)Invoking autobuild.	Process build logs.
* abindex: (autobuild)Invoking abindex.		Create indexes for build logs.
@end direntry

@titlepage
@title Autobuild
@subtitle for version @value{VERSION}, @value{UPDATED}
@author Simon Josefsson (@email{bug-autobuild@@josefsson.org})
@page
@vskip 0pt plus 1filll
@insertcopying
@end titlepage

@contents

@ifnottex
@node Top
@top Autobuild

@insertcopying
@end ifnottex

@menu
* Introduction::
* Tutorial::
* Integrating autobuild.m4 in your project::
* Invoking autobuild::
* Invoking abindex::
* Copying This Manual::
* Index::
@end menu

@node Introduction
@chapter Introduction

Autobuild is a package that process output from building software,
primarily focused on packages using Autoconf and Automake, and then
generate a HTML summary file, containing links to each build log.  The
output include project name, version, build host types (cross compile
aware), compiler host name, date of build, and indication of success
or failure.  The output is indexed in many ways to simplify browsing.

The quickest way to get an understanding of what Autobuild can do for
you, is to look at some example output.  For now, we recommend looking
at how Autobuild is used in the GNU Libidn project, see
@url{http://josefsson.org/autobuild-logs/libidn.html}.

@node Tutorial
@chapter Tutorial

The first step is to collect build logs of your package.  Autobuild
does not help you do this.  A very simple way to do this is as
follows:

@example
jas@@latte:~/src/libidn-0.5.0$ ./configure > ~/foo
jas@@latte:~/src/libidn-0.5.0$ make check >> ~/foo
@end example

We'll continue directly and invoke autobuild on the log file.

@example
jas@@latte:~/src/libidn-0.5.0$ cd
jas@@latte:~$ autobuild -v foo
Project: libidn
Revision: 0.5.0
Mode: default
Hosttype: i686-pc-linux-gnu
Buildtype: i686-pc-linux-gnu
Hostname: unknown
Timestamp: unknown
Status: ok
./autobuild,project=libidn,revision=0.5.0,mode=default,hosttype=i686-pc-linux-gnu,buildtype=i686-pc-linux-gnu,hostname=unknown,timestamp=unknown,status=ok,log.txt
jas@@latte:~$ ls -la foo autobuild\,project\=libidn\,revision\=0.5.0\,mode\=default\,hosttype\=i686-pc-linux-gnu\,buildtype\=i686-pc-linux-gnu\,hostname\=unknown\,timestamp\=unknown\,status\=ok\,log.txt
-rw-r--r--    1 jas      jas         24821 2004-07-07 02:27 autobuild,project=libidn,revision=0.5.0,mode=default,hosttype=i686-pc-linux-gnu,buildtype=i686-pc-linux-gnu,hostname=unknown,timestamp=unknown,status=ok,log.txt
-rwxr-xr-x    1 jas      jas         24821 2004-07-07 02:27 foo
jas@@latte:~$
@end example

The @file{foo} file is identical to the @file{autobuild,*,log.txt}
except for the name.  The special form of the file name is used by
@code{abindex} to create nice looking indicies for your log files.

If you have Emacs and htmlize.el installed, you can also get nice HTML
outputs of the build logs, as follows:

@example
jas@@latte:~$ autobuild --html -v foo
Project: libidn
Revision: 0.5.0
Mode: default
Hosttype: i686-pc-linux-gnu
Buildtype: i686-pc-linux-gnu
Hostname: unknown
Timestamp: unknown
Status: ok
./autobuild,project=libidn,revision=0.5.0,mode=default,hosttype=i686-pc-linux-gnu,buildtype=i686-pc-linux-gnu,hostname=unknown,timestamp=unknown,status=ok,log.html
jas@@latte:~$
@end example

You may have noticed that some fields have default looking values.
This is because autobuild could not guess them using the log file you
provided.  Either you can improve the guessing logic, or simpler,
specify the values on the command line.

@example
jas@@latte:~$ autobuild --html -v foo --hostname latte --timestamp=20040607-0220
Project: libidn
Revision: 0.5.0
Mode: default
Hosttype: i686-pc-linux-gnu
Buildtype: i686-pc-linux-gnu
Hostname: latte
Timestamp: 20040607-0220
Status: ok
./autobuild,project=libidn,revision=0.5.0,mode=default,hosttype=i686-pc-linux-gnu,buildtype=i686-pc-linux-gnu,hostname=latte,timestamp=20040607-0220,status=ok,log.html
jas@@latte:~$
@end example

Much better.  Let's look at the HTML output for our example.  First,
invoke @code{abindex} to get the files.

@example
jas@@latte:~$ abindex autobuild,*,log.html > example.html
jas@@latte:~$
@end example

Recall that since we supplied some values, we have two different files
matching the file name glob.  Since both files originated from the
same build, it will not be very exciting.

See the @file{examples/} sub-directory in the Autobuild source code
distribution for all files generated above.

@node Integrating autobuild.m4 in your project
@chapter Integrating autobuild.m4 in your project


@node Invoking autobuild
@chapter Invoking autobuild

@pindex autobuild
@cindex invoking @command{autobuild}

This is a autobuild manual.  There is no autobuild program to
invoke, but if there was, you could see its basic usage
and command line options here.

@node Invoking abindex
@chapter Invoking abindex

@pindex abindex
@cindex invoking @command{abindex}

This is a autobuild manual.  There is no autobuild program to invoke,
but if there was, you could see its basic usage and command line
options here.


@node Copying This Manual
@appendix Copying This Manual

@menu
* GNU Free Documentation License::  License for copying this manual.
@end menu

@include fdl.texi


@node Index
@unnumbered Index

@printindex cp

@bye
